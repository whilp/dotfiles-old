##################  BEGIN HEADERS
# Filename	: $HOME/.muttrc (or $HOME/.muttngrc)
# Use		: main configuration file for mutt(-ng), a command line mail reader
# Author	: Will Maier <willmaier@ml1.net>
# Started	: 2005.03.06
# Based on	: Phillip Hollenback's muttrc @ macdevcenter
# Refers to	: $HOME/.muttalias
#		  $HOME/.muttcolor
# Updated	: 2005.07.28 13:48:20
##################  END HEADERS

## MAILDIR SETTINGS ##
set mbox_type=Maildir
set folder=~/Maildir
set copy=yes
set record="+Sent"
set postponed="+Drafts"

mailboxes ! `\
    find ~/Maildir -type d | \
    egrep -v 'cur$|tmp$|new$|Maildir$|Hack$|Work$|Personal$' | \
    sed 's/.*\/Maildir\///' | \
    xargs -I % echo -n ' =%'`

set alias_file="~/.muttalias"
bind index '.' buffy-list
bind generic 'G' noop
bind generic '\CG' noop
bind index zt current-top
bind index zz current-middle
bind index zb current-bottom

macro index G "<shell-escape>~/bin/getmail<enter>" "Getmail"
macro pager G "<shell-escape>~/bin/getmail<enter>" "Getmail"
macro index \CG "<shell-escape>~/bin/getmail -v<enter>" "Getmail, verbose"
macro pager \CG "<shell-escape>~/bin/getmail -v<enter>" "Getmail, verbose"
macro index S "<enter-command>source ~/.muttrc<enter>" "Reload configuration"
macro pager S "<enter-command>source ~/.muttrc<enter>" "Reload configuration"
macro index C "<change-folder>?<toggle-mailboxes>" "open a different folder"
macro pager C "<change-folder>?<toggle-mailboxes>" "open a different folder"

## SMTP SETTINGS ##
set sendmail="/usr/local/bin/nbsmtp -D"			# use ESMTP for egress mail

## PAGER SETTINGS ##
set implicit_autoview
set pager_stop				# don't jump to next message at end
set sort=threads
set sort_aux=reverse-last-date
source "~/.muttcolor"			# get color info
source "~/.muttalias"
set nomark_old
set quit=yes
set move=no
set editor=vim
set ispell=

## COMPOSITION SETTINGS ##
set forward_format="Fwd: %s"		# traditional fwd: subj.
set postpone=no
set use_from=yes
set from="Will Maier <willmaier@ml1.net>"
set quote_empty=no
set strip_was=yes


## INDEX SETTINGS ##
set arrow_cursor			# don't hilite the whole line
set beep
set beep_new
set wrap_search
set index_format="%4C %Z %-20[%d.%m.%y at %H:%M] %-22.22F %s"


## EDIT SETTINGS ##
set abort_unmodified=yes		# don't send if message unmodified
set include=yes

## HEADER SETTINGS ##
ignore *				# default: ignore
unignore from: date subject to cc reply-to:
unignore x-mailer: user-agent
unhdr_order *
hdr_order From Date: From: To: Cc: Subject: X-mailer:

#folder-hook * push 'T~=\n;d\n'
#folder-hook =Lists push 'T~R\ ~r\ >1m\n\;s=Lists.ARK\n'
#folder-hook =techpartners push 'T~R\ ~r\ >1m\n\;d\n'

send-hook . source ~/.muttrc

send-hook '~t jacobsonlaura.*@gmail.com' 'set signature='~/.signatures/laura'
send-hook '~t .*@\(engr\|cae\).wisc.edu' 'set signature='~/.signatures/cae'
send-hook '~t jacobsonlaura.*@gmail.com' 'unset sig_dashes'

set signature='~/.signatures/default'
set sig_dashes

folder-hook . unset strict_threads
folder-hook . set duplicate_threads
folder-hook . set narrow_tree


folder-hook =Personal/Family set strict_threads
folder-hook =Personal/Family set hide_top_missing
folder-hook =Personal/Family set hide_missing
folder-hook =Personal/Family unset sig_dashes

folder-hook =Hack/.* push 'D~m>300!~F~R<enter>'

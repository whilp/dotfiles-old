// ex: set ft=java:
// Submappings.
define_key(top_kmap, make_key("h",MOD_CTRL), help_kmap);
define_key(top_kmap, make_key("w",MOD_CTRL), ctrlw_kmap);
define_key(top_kmap, make_key("w",0),        ctrlw_kmap); 

// Conkeror help, tutorial, bindings.
define_key(help_kmap, make_key("i",0),"help-page");
define_key(help_kmap, make_key("t",0),"help-with-tutorial");
define_key(help_kmap, make_key("b",0),"describe-bindings");

// Window control.
define_key(top_kmap, make_key("q",MOD_CTRL),"quit"); 
define_key(ctrlw_kmap, make_key("n",0),"make-frame-command");
define_key(top_kmap, make_key("h",0),"go-back");
define_key(top_kmap, make_key("l",0),"go-forward");
define_key(top_kmap, make_key("l",MOD_CTRL),"redraw");
define_key(top_kmap, make_key("/",0),"isearch-forward");
define_key(top_kmap, make_key("\\",0),"view-source");
define_key(top_kmap, make_key("?",0),"isearch-backward");
define_key(top_kmap, make_key("r",0),"revert-buffer");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_ESCAPE,0),"stop-loading");
define_key(top_kmap, make_key("y",0),"copy-current-url");
define_key(top_kmap, make_key("Y",0),"copy-link-location");

// Buffer control.
define_key(top_kmap, make_key("b",0),"switch-to-buffer"); 
define_key(top_kmap, make_key("c",0),"kill-buffer");
define_key(top_kmap, make_key("<",0),"buffer-previous");
define_key(top_kmap, make_key(">",0),"buffer-next");

// Bookmarks.
define_key(top_kmap, make_key("a",0),"bookmark-current-url");
define_key(top_kmap, make_key("s",0),"bookmark-jump");
define_key(top_kmap, make_key("S",0),"bookmark-bmenu-list"); 

// Marks.
define_key(top_kmap, make_key("m",0),"set-mark-command"); 
define_key(top_kmap, make_key("'",0),"exchange-point-and-mark"); 

// URLs.
define_key(top_kmap, make_key("e",0),"open-url");
define_key(top_kmap, make_key("t",0),"find-url");
define_key(top_kmap, make_key("E",0),"find-alternate-url"); 

// Modeline.
define_key(top_kmap, make_key(":",0),"execute-extended-command");
define_key(top_kmap, make_key(":",MOD_META),"eval-expression");
define_key(top_kmap, make_key("u", MOD_CTRL), "universal-argument");

// Numbered links and images.
define_key(top_kmap, make_key(",",0),"toggle-numbered-links");
define_key(top_kmap, make_key(".",0),"toggle-numbered-images");
define_key(top_kmap, make_key("1",0),"numberedlinks-1");
define_key(top_kmap, make_key("2",0),"numberedlinks-2");
define_key(top_kmap, make_key("3",0),"numberedlinks-3");
define_key(top_kmap, make_key("4",0),"numberedlinks-4");
define_key(top_kmap, make_key("5",0),"numberedlinks-5");
define_key(top_kmap, make_key("6",0),"numberedlinks-6");
define_key(top_kmap, make_key("7",0),"numberedlinks-7");
define_key(top_kmap, make_key("8",0),"numberedlinks-8");
define_key(top_kmap, make_key("9",0),"numberedlinks-9");
define_key (numberedlinks_kmap, make_key (KeyEvent.DOM_VK_RETURN,0), nl_follow);
define_key (numberedlinks_kmap, make_key (KeyEvent.DOM_VK_RETURN,MOD_META), nl_focus);
define_key (numberedlinks_kmap, make_key (KeyEvent.DOM_VK_RETURN,MOD_CTRL), nl_open_other_buffer);

// Input.
define_key(input_kmap, make_key("a",MOD_CTRL),"cmd_beginLine");
define_key(input_kmap, make_key("e",MOD_CTRL),"cmd_endLine");
define_key(input_kmap, make_key(KeyEvent.DOM_VK_BACK_SPACE, 0), "cmd_deleteCharBackward");
define_key(input_kmap, make_key(KeyEvent.DOM_VK_BACK_SPACE, MOD_META), "cmd_deleteWordBackward");
define_key(input_kmap, make_key("d",MOD_CTRL),"cmd_deleteCharForward");
define_key(input_kmap, make_key("d",MOD_META),"cmd_deleteWordForward");
define_key(input_kmap, make_key("b",MOD_CTRL),"cmd_charPrevious");
define_key(input_kmap, make_key("b",MOD_META),"cmd_wordPrevious");
define_key(input_kmap, make_key("f",MOD_CTRL),"cmd_charNext");
define_key(input_kmap, make_key("f",MOD_META),"cmd_wordNext");
define_key(input_kmap, make_key("y",MOD_CTRL),"cmd_paste");
define_key(input_kmap, make_key("w",MOD_META),"cmd_copy");
define_key(input_kmap, make_key("k",MOD_CTRL),"cmd_deleteToEndOfLine");
define_key(input_kmap, make_key(KeyEvent.DOM_VK_HOME,MOD_SHIFT), "cmd_selectBeginLine");
define_key(input_kmap, make_key(KeyEvent.DOM_VK_END,MOD_SHIFT),"cmd_selectEndLine");
define_key(input_kmap, make_key(KeyEvent.DOM_VK_BACK,MOD_CTRL), "cmd_deleteWordBackward");
define_key(input_kmap, make_key(KeyEvent.DOM_VK_LEFT,MOD_CTRL|MOD_SHIFT), "cmd_selectWordPrevious");
define_key(input_kmap, make_key(KeyEvent.DOM_VK_RIGHT,MOD_CTRL|MOD_SHIFT), "cmd_selectWordNext");
define_key(input_kmap, make_key("r",MOD_CTRL),"cmd_redo");

// Resizing.
define_key(top_kmap, make_key( "=", 0),"text-reset");
define_key(top_kmap, make_key( "+", 0),"text-enlarge");
define_key(top_kmap, make_key( "-", 0),"text-reduce");

// Textareas.
define_key(top_kmap, make_key("g",MOD_CTRL),"unfocus");
define_key(textarea_kmap, make_key("a",MOD_CTRL),"cmd_beginLine");
define_key(textarea_kmap, make_key("e",MOD_CTRL),"cmd_endLine");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_BACK_SPACE, 0), "cmd_deleteCharBackward");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_BACK_SPACE, MOD_META), "cmd_deleteWordBackward");
define_key(textarea_kmap, make_key("d",MOD_CTRL),"cmd_deleteCharForward");
define_key(textarea_kmap, make_key("d",MOD_META),"cmd_deleteWordForward");
define_key(textarea_kmap, make_key("b",MOD_CTRL),"cmd_charPrevious");
define_key(textarea_kmap, make_key("b",MOD_META),"cmd_wordPrevious");
define_key(textarea_kmap, make_key("f",MOD_CTRL),"cmd_charNext");
define_key(textarea_kmap, make_key("f",MOD_META),"cmd_wordNext");
define_key(textarea_kmap, make_key("y",MOD_CTRL),"cmd_paste");
define_key(textarea_kmap, make_key("w",MOD_META),"cmd_copy");
define_key(textarea_kmap, make_key("k",MOD_CTRL),"cmd_deleteToEndOfLine");
define_key(textarea_kmap, make_key("n",MOD_CTRL),"cmd_lineNext");
define_key(textarea_kmap, make_key("p",MOD_CTRL),"cmd_linePrevious");
define_key(textarea_kmap, make_key("<",MOD_META),"cmd_moveTop");
define_key(textarea_kmap, make_key(">",MOD_META),"cmd_moveBottom");
define_key(textarea_kmap, make_key("v",MOD_META),"cmd_movePageUp");
define_key(textarea_kmap, make_key("v",MOD_CTRL),"cmd_movePageDown");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_HOME,MOD_SHIFT), "cmd_selectBeginLine");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_END,MOD_SHIFT), "cmd_selectEndLine");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_BACK,MOD_CTRL), "cmd_deleteWordBackward");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_LEFT,MOD_CTRL|MOD_SHIFT), "cmd_selectWordPrevious");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_RIGHT,MOD_CTRL|MOD_SHIFT), "cmd_selectWordNext");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_PAGE_UP,MOD_SHIFT), "cmd_selectPageUp");
define_key(textarea_kmap, make_key(KeyEvent.DOM_VK_PAGE_DOWN,MOD_SHIFT), "cmd_selectPageDown");
define_key(textarea_kmap, make_key("r",MOD_CTRL),"cmd_redo");

// Movement and selection.
define_key(top_kmap, make_key(" ",0),"cmd_scrollPageDown");
define_key(top_kmap, make_key("b",MOD_CTRL),"cmd_scrollPageUp");
define_key(top_kmap, make_key("a",MOD_CTRL),"cmd_selectAll");
define_key(top_kmap, make_key("f",MOD_CTRL),"cmd_scrollPageDown");
define_key(top_kmap, make_key("k",0),"cmd_scrollLineUp");
define_key(top_kmap, make_key("j",0),"cmd_scrollLineDown");
define_key(top_kmap, make_key("H",0),"cmd_scrollLeft");
define_key(top_kmap, make_key("L",0),"cmd_scrollRight");
define_key(top_kmap, make_key("0",0),"cmd_scrollBeginLine");
define_key(top_kmap, make_key("^",0),"cmd_scrollBeginLine");
define_key(top_kmap, make_key("$",0),"cmd_scrollEndLine");
define_key(top_kmap, make_key("g",0),"cmd_scrollTop");
define_key(top_kmap, make_key("G",0),"cmd_scrollBottom");
define_key(top_kmap, make_key("a",MOD_CTRL),"beginning-of-line");
define_key(top_kmap, make_key("e",MOD_CTRL),"end-of-line");
define_key(top_kmap, make_key("b",MOD_META),"cmd_wordPrevious");
define_key(top_kmap, make_key("f",MOD_META),"cmd_wordNext");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_PAGE_UP, MOD_SHIFT),"cmd_selectPageUp");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_PAGE_DOWN, MOD_SHIFT),"cmd_selectPageDown");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_DELETE, MOD_SHIFT),"cmd_cut");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_DELETE, MOD_CTRL),"cmd_copy");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_INSERT, MOD_CTRL),"cmd_copy");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_HOME, MOD_SHIFT|MOD_CTRL),"cmd_selectTop");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_END, MOD_SHIFT|MOD_CTRL),"cmd_selectBottom");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_LEFT, MOD_CTRL|MOD_SHIFT),"cmd_selectWordPrevious");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_RIGHT, MOD_CTRL|MOD_SHIFT),"cmd_selectWordNext");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_LEFT, MOD_SHIFT),"cmd_selectCharPrevious");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_RIGHT, MOD_SHIFT),"cmd_selectCharNext");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_HOME, MOD_SHIFT),"cmd_selectBeginLine");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_END, MOD_SHIFT),"cmd_selectEndLine");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_UP, MOD_SHIFT),"cmd_selectLinePrevious");
define_key(top_kmap, make_key(KeyEvent.DOM_VK_DOWN, MOD_SHIFT),"cmd_selectLineNext");

gCurrentKmap = top_kmap;
